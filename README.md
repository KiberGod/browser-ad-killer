<img src="https://github.com/KiberGod/youtube-ad-killer/blob/main/images/icon128.png" align="left" width="128">
<h1>YouAd Killer</h1>
<span>v.2.4</span>
<br>
<br>
<br>
<h3>Загальна інформація</h3>

---
YouAd Killer - це розширення для браузера, яке автоматично знаходить та блокує рекламу на YouTube.

[Сторінка розширення у Chrome-магазині](https://chrome.google.com/webstore/detail/youad-killer/kdomclcikdoajglommbmgkbilfnannao).

<br>
<h3>Інсталяція та перший запуск</h3>

---
Після встановлення рекомендується повністю перезапустити браузер, закривши всі старі вкладки. Це гарантуватиме стабільну
роботу розширення. В протилежному випадку YouAd Killer може не заблокувати рекламу.
Надалі, під час використання, ці дії повторювати не треба.

<br>
<h3>Історія створення</h3>

---
Рішення про створення даного розширення було прийнято через нововведення YouTube. Вони додали детектор AdBlock-розширень та вимагають від користувачів їх вимкнути.
Після 3 попереджень блокують відеоплеєр аж доти, доки користувач не виконає їх прохання.

<img src="https://focus.ua/static/storage/thumbs/1088x/0/c3/82509056-03d33b7ed2f13a01165c957c4aea3c30.jpg" width="700">

Детальніше про це можна дізнатись [ось тут](https://focus.ua/digital/576078-dokatilis-youtube-zapretit-blokirovshchiki-reklamy-i-hochet-brat-dengi-za-full-hd-kachestvo).

> Врешті це дуже засмутило мене і я сказав: "Добре YouTube, виклик прийнято."

<br>
<h3>Принцип дії</h3>

---
YouAd Killer бере за основу 2 методи взаємодії з YouTube:
1. Аналіз HTML-коду, що використовується для виявлення реклами.
2. HTML-ін'єкції для блокування реклами.

В момент, коли з'являється реклама, у HTML-коді сторінки відбуваються певні характерні зміни, які реєструє YouAd Killer. Після цього розширення використовує одну з двох доступних ін'єкцій, в залежності від типу реклами.
YouTube-реклама є двох типів:
1. Та, яку  можна пропустити через деякий час.
2. І реклама, яку взагалі не можна пропустити.

Для боротьби з першим типом реклами використовується програмне натиснення кнопки "Пропустити", оскільки було виявлено, що вона є у DOM-сторінки вже на момент появи реклами (хоча візуально її не видно).

Щоб пропустити рекламу другого типу, вводиться ін'єкція, яка встановлює прогрес перегляду реклами в останню секунду рекламного відеоролика (так, що реклама закінчується тільки почавшись).

Також додатково блокується статичний рекламний блок, що зазвичай з'являється десь праворуч від відеоплеєра.

<br>
<h3>Архітектурна довідка</h3>

---
Проєкт містить в собі додаткові елементи і не всі з них повинні входити до фінального архіву (що подається у Chrome-магазин перед публікацією розширення). У таблиці, наведеній нижче, буде відмічено, які файли входять до фінальної сборки та яку роль грають у проєкті.

| № | Назва                 | Фінальна сборка | Призначення                                 |
|---|:--------------------- | :--------------:| :------------------------------------------ |
| 1 | _autolocalization     | Ні              | Директорія зі скриптом автолокалізації      |
| 2 | _experimental_version | Ні              | Прототип даного розширення першого покоління|
| 3 | _locales              | Так             | Локалі розширення                           |
| 4 | images                | Так             | Іконки розширення                           |
| 5 | popup                 | Так             | Директорія з файлами попапу                 |
| 6 | .gitignore            | Ні              | Git-файл                                    |
| 7 | content.js            | Так             | Основне алгоритмічне ядро розширення        |
| 8 | manifest.json         | Так             | Конфіг-файл розширення                      |
| 9 | README(_EN).MD        | Ні              | Документація                                |


<br>
<h3>Класифікація прототипів</h3>

---
Розширення розроблене у двох варіантах:
* до версії 1.7 - перше покоління
* починаючи з версії 2.0 і вище - друге покоління

Версія 1.7 є робочим прототипом першого покоління та знаходиться у директорії `_experimental_version`. На даний момент її розвиток призупинено, але сам прототип було вирішено зберегти у вказаній директорії із-за ряду наступних причин:
1. Через принципову відмінність у роботі, в порівнянні з розширенням другого покоління.
2. На той випадок, якщо YouTube зможе захиститись від розширення другого покоління.
3. Для вдосконалення у майбутньому, якщо всі інші прототипи втратять дієздатність.

На відміну від свого попередника, YouAd Killer другого покоління позбавлений всіх недоліків, а саме:
* він більше не впливає на трафік та не залежить від швидкості Інтернет-зв'язку
* кількість дозволів для роботи розширення зменшена до 0 (за винятком доступу до хоста)
* розширення максимально оптимізоване (весь його функціонал займає не більше 30 рядків коду)
* збільшена частота запуску детектора реклами вдвічі (затримка на спрацювання зменшилась з 1 до 0.5 секунди)
* розширення працюватиме коректно при будь-якій швидкості перегляду відео

Єдиним недоліком є те, що розширення блокує рекламу двома методами з "хірургічною точністю" та завжди є ризик, що YouTube спробує завадити цьому (в той час, коли розширення першого покоління, не зважаючи на всі свої недоліки є більш стійким до будь-яких дій YouTube).

<br>
<h3>Підтримка та сумісність</h3>

---
Поточна версія розширення (2.4) підтримується та сумісна лише з браузерами, створеними на базі Chromium.

Розширення локалізоване 52-ма мовами:
* Українська
* Індонезійська
* Малайська
* Англійська
* Філіппінська (Тагальська)
* Французька
* Суахілі
* Нідерландська
* Норвезька
* В'єтнамська
* Турецька
* Каталанська
* Датська
* Естонська
* Іспанська
* Хорватська
* Італійська
* Латвійська
* Литовська
* Угорська
* Польська
* Португальська
* Румунська
* Словацька
* Словенська
* Фінська
* Шведська
* Чеська
* Грецька
* Сербська
* Болгарська
* Російська
* Іврит
* Перська
* Маратхі
* Гінді
* Бенгальська
* Гуджараті
* Тамільська
* Телугу
* Канадська
* Малаялам
* Тайська
* Амхарська
* Арабська
* Китайська (спрощена)
* Китайська (традиційна)
* Японська
* Урду
* Панджабі (Пенджабі)
* Німецька
* Корейська

Локалізація розширення підбирається автоматично, у залежності від локалізації браузера.